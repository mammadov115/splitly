{% load humanize %}

<div class="bg-white rounded-3xl p-5 shadow-sm border border-slate-100 mb-4 opacity-80">
    <div class="flex justify-between items-start mb-4">
        <div class="flex items-center gap-3">
            <div class="w-12 h-12 {% if expense.is_payment %}bg-emerald-100 text-emerald-600{% else %}bg-blue-100 text-blue-600{% endif %} rounded-2xl flex items-center justify-center">
                <i class="fa-solid {% if expense.is_payment %}fa-hand-holding-dollar{% else %}fa-bolt{% endif %}"></i>
            </div>
            <div>
                <h3 class="font-bold text-slate-800 leading-tight">{% if expense.is_payment %}Borc Ã–dÉ™niÅŸi ğŸ’¸{% else %}{{ expense.title }}{% endif %}</h3>
                <p class="text-xs text-slate-400 font-medium">
                    {% if expense.date|naturalday == "today" %}
                        Bu gÃ¼n, {{ expense.date|date:"H:i" }}
                    {% elif expense.date|naturalday == "yesterday" %}
                        DÃ¼nÉ™n, {{ expense.date|date:"H:i" }}
                    {% else %}
                        {{ expense.date|date:"d E" }}, {{ expense.date|date:"H:i" }} 
                        {# "d E" formatÄ± "07 Yanvar" kimi Ã§Ä±xarÄ±r #}
                    {% endif %}
                </p>
            </div>
        </div>
        <div class="text-right">
            <span class="text-lg font-bold text-slate-800">{{ expense.amount }} AZN</span>
            <p class="text-[10px] {% if expense.is_payment %}text-emerald-500{% else %}text-blue-500{% endif %} font-bold uppercase">
                {% if expense.is_payment %}
                    {{ expense.paid_by.first_name }} sÉ™nÉ™ Ã¶dÉ™di! ğŸ‰
                {% else %}
                    {{ expense.paid_by }} Ã¶dÉ™di
                {% endif %}
            </p>
        </div>
    </div>
    {% if not expense.is_payment %}
    {% if expense.my_share %}
        <div class="text-xs text-slate-500 italic bg-blue-50 p-2 rounded-xl text-center">
            SÉ™nin payÄ±na <span class="font-bold text-red-500">{{ expense.my_share|floatformat:2 }}</span> AZN dÃ¼ÅŸÃ¼r.
        </div>
    {% else %}
        <div class="text-xs text-slate-500 italic bg-blue-50 p-2 rounded-xl text-center">
             SÉ™nin bu xÉ™rclÉ™ baÄŸlÄ± borcun <span class="font-bold text-green-500">yoxdur.</span>
        </div>
    {% endif %}
    {% endif %}
</div>
